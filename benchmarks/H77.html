<html>
  <head>
    <title>e</title>
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="../images/apple-touch-icon.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="../images/favicon-32x32.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="../images/favicon-16x16.png"
    />
    <link rel="manifest" href="/site.webmanifest" />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css?family=Open%20Sans"
    />
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
      integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="
      crossorigin=""
    />
    <style>
      body {
        font-family: "Open Sans";
        background-color: #36393f;
        color: #ffffff;
        max-width: 69420ex;
      }

      .link {
        color: #2f8aee;
      }

      .image {
        border-color: mediumpurple;
        border-style: solid;
        border-radius: 12px;
        margin: 10px;
        box-shadow: -7px 10px rgba(172, 177, 185, 0.24);
        float: left;
      }

      #map {
        height: 400px;
        width: 600px;
      }

      .whiteBorder {
        border: 1px solid #ffffff;
      }

      .table {
        height: 400px;
        width: 600px;
        top: 415px;
      }

      .right {
        float: right;
      }

      .descr {
        width: 50%;
      }

      div.gallery {
        margin: 5px;
        border: 1px solid #ccc;
        float: left;
        width: 180px;
      }

      div.gallery:hover {
        border: 1px solid #777;
      }

      div.gallery img {
        width: 100%;
        height: auto;
      }

      div.desc {
        padding: 15px;
        text-align: center;
      }
    </style>
  </head>
  <body>
    <script
      src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
      integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
      crossorigin=""
    ></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-gpx/1.7.0/gpx.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <!-- Title -->
    <center>
      <h1><strong>H 77</strong></h1>
      <p>
        <a href="https://bubbajuice.github.io/benchmarks" class="link"
          >Benchmarks</a>
        <a href="https://bubbajuice.github.io/apps" class="link">Apps</a>
        <a href="https://bubbajuice.github.io/" class="link">Home</a>
        <a href="https://bubbajuice.github.io/gcstats" class="link"
          >Geocaching Stats</a>
      </p>
    </center>
    <hr />
    <!-- Make markers -->
    <div style="margin-left: 10%">
      <div class="right" style="margin-right: 10%">
        <div id="map"></div>
        <div class="table">
          <table style="float: right; margin-top: 10px">
            <tr>
              <td style="text-align: center">
                <img
                  src="https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-green.png"
                  width="25"
                  height="41"
                />
              </td>
              <td>Main benchmarks recovered in good or poor condition.</td>
            </tr>
            <tr>
              <td style="text-align: center">
                <img
                  src="https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png"
                  width="25"
                  height="41"
                />
              </td>
              <td>Main benchmarks that have been destroyed.</td>
            </tr>
            <tr>
              <td style="text-align: center">
                <img
                  src="https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-violet.png"
                  width="25"
                  height="41"
                />
              </td>
              <td>Reference benchmarks recovered in good or poor condition.</td>
            </tr>
            <tr>
              <td style="text-align: center">
                <img
                  src="https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-yellow.png"
                  width="25"
                  height="41"
                />
              </td>
              <td>Reference benchmarks that have been destroyed.</td>
            </tr>
            <tr>
              <td style="text-align: center">
                <img
                  src="https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-blue.png"
                  width="25"
                  height="41"
                />
              </td>
              <td>Azimuth benchmarks recovered in good or poor condition.</td>
            </tr>
            <tr>
              <td style="text-align: center">
                <img
                  src="https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-orange.png"
                  width="25"
                  height="41"
                />
              </td>
              <td>Azimuth benchmarks that have been destroyed.</td>
            </tr>
            <tr>
              <td style="text-align: center">
                <img
                  src="https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-black.png"
                  width="25"
                  height="41"
                />
              </td>
              <td>A main, reference, or azimuth benchmark not searched for.</td>
            </tr>
          </table>
        </div>
      </div>
      <!-- Start of description -->
      <h2>"H 77"</h2>
      <table>
        <tr>
          <td><strong>NGS PointID: </strong></td>
          <td>CG0325</td>
        </tr>
        <tr>
          <td><strong>Condition: </strong></td>
          <td>Ware and minor scratching</td>
        </tr>
        <tr>
          <td><strong>Stamping: </strong></td>
          <td>H 77 1934</td>
        </tr>
        <tr>
          <td><strong>Coordinates: </strong></td>
          <td>31.670722, -110.596556</td>
        </tr>
        <!-- Source: NGS Datasheet -->
        <tr>
          <td><strong>Elevation: </strong></td>
          <td>4882.91 ft (1488.31 m)</td>
        </tr>
        <!-- Source: Datasheet -->
        <tr>
          <td><strong>Setting: </strong></td>
          <td>A square concrete post.</td>
        </tr>
        <tr>
          <td><strong>Monumentor: </strong></td>
          <td>USC&GS</td>
        </tr>
      </table>
      <p><strong>Datasheet Description:</strong></p>
      <div>
        <p>
          3.5 mi E from Sonoita.
          3.5 miles east along the Southern Pacific Co. railroad from Sonoita,
          Santa Cruz County, 4.5 miles west of Elgin, 2.3 miles west of Canelo,
          25 feet east of the northeast end of culvert 1078 B, 30 feet northeast
          of the centerline of the track, and 22 feet southwest of a fence line.
          A standard disk, stamped H 77 1934 and set in the top of a concrete
          post.
        </p>
      </div>
      <div class="descr">
        <hr style="margin-top: 30px; margin-bottom: 30px" />
        <p>
          "H 77" is a benchmark monumented by the USC&GS in 1934 located in Santa Cruz
          County, Arizona.
        </p>
        <p>
          The benchmark is just west of a driveway. At this time there was a wooden post with a pink ribbon wrapped around the top next to the mark.
        </p>
      </div>
      <!-- Gallery -->
      <div class="gallery">
        <a target="_blank" href="images/H77.png">
          <img
            src="images/H77.png"
            alt="H 77  benchmark"
            width="600"
            height="400"
          />
        </a>
        <div class="desc">A closeup of H 77.</div>
      </div>

      <div class="gallery">
        <a target="_blank" href="images/H77back.png">
          <img
            src="images/H77back.png"
            alt="H 77 benchmark from further back"
            width="600"
            height="400"
          />
        </a>
        <div class="desc">H 77 from further back.</div>
      </div>
    
    <script>
      var loadJson = function (obj) {
        /* Add icons for marker status. */
        var mainGood = new L.Icon({
          iconUrl:
            "https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-green.png",
          shadowUrl:
            "https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",
          iconSize: [25, 41],
          iconAnchor: [12, 41],
          popupAnchor: [1, -34],
          shadowSize: [41, 41],
        });

        var refGood = new L.Icon({
          iconUrl:
            "https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-violet.png",
          shadowUrl:
            "https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",
          iconSize: [25, 41],
          iconAnchor: [12, 41],
          popupAnchor: [1, -34],
          shadowSize: [41, 41],
        });

        var azimuthGood = new L.Icon({
          iconUrl:
            "https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-blue.png",
          shadowUrl:
            "https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",
          iconSize: [25, 41],
          iconAnchor: [12, 41],
          popupAnchor: [1, -34],
          shadowSize: [41, 41],
        });

        var mainBad = new L.Icon({
          iconUrl:
            "https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png",
          shadowUrl:
            "https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",
          iconSize: [25, 41],
          iconAnchor: [12, 41],
          popupAnchor: [1, -34],
          shadowSize: [41, 41],
        });

        var refBad = new L.Icon({
          iconUrl:
            "https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-yellow.png",
          shadowUrl:
            "https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",
          iconSize: [25, 41],
          iconAnchor: [12, 41],
          popupAnchor: [1, -34],
          shadowSize: [41, 41],
        });

        var azimuthBad = new L.Icon({
          iconUrl:
            "https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-orange.png",
          shadowUrl:
            "https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",
          iconSize: [25, 41],
          iconAnchor: [12, 41],
          popupAnchor: [1, -34],
          shadowSize: [41, 41],
        });

        var none = new L.Icon({
          iconUrl:
            "https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-black.png",
          shadowUrl:
            "https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",
          iconSize: [25, 41],
          iconAnchor: [12, 41],
          popupAnchor: [1, -34],
          shadowSize: [41, 41],
        });

        /* Convert status in JSON to variable for interpretation below */
        var main = L.layerGroup();
        function statusToIcon(status) {
          if (status == "mainGood") {
            return mainGood;
          }
          if (status == "mainBad") {
            return mainBad;
          }
          if (status == "refGood") {
            return refGood;
          }
          if (status == "refBad") {
            return refBad;
          }
          if (status == "azimuthGood") {
            return azimuthGood;
          }
          if (status == "azimuthBad") {
            return azimuthBad;
          }
          if (status == "none") {
            return none;
          }
          console.log("Couldn't find a status!")
        }

        /* Main marker icon */
        L.marker([obj.mainCoordLat, obj.mainCoordLong], {
          icon: statusToIcon(obj.mainStatus),
        })
          .addTo(main)
          .bindPopup(obj.mainName)
          .openPopup();

        /* Base Layers */
        var caltopo = L.tileLayer(
            "https://caltopo.s3.amazonaws.com/topo/{z}/{x}/{y}.png",
            {
              attribution:
                '&copy; <a href="https://caltopo.com/map.html">Caltopo</a>',
              maxNativeZoom: 16,
            }
          ),

          osm = L.tileLayer(
            "https://tile.openstreetmap.org/{z}/{x}/{y}.png", 
            {
              attribution: 
                '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',
            }
          ),

          naip = L.tileLayer(
            "https://naip.maptiles.arcgis.com/arcgis/rest/services/NAIP/MapServer/tile/{z}/{y}/{x}",
            {
              attribution: 
                "USDA-NAIP",
            }
          );

          usgsImagery = L.tileLayer(
            "https://basemap.nationalmap.gov/arcgis/rest/services/USGSImageryOnly/MapServer/tile/{z}/{y}/{x}",
            { 
              attribution: 
                "USDA-NAIP", 
              maxNativeZoom: 16 
            }
          );

          ersi = L.tileLayer(
            "https://services.arcgisonline.com/arcgis/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",
            {
              attribution:
                "Esri, Maxar, Earthstar Geographics, USDA FSA, USGS, Aerogrid, IGN, IGP, and the GIS User Community",
            }
          );

          ersiClarity = L.tileLayer(
            "https://clarity.maptiles.arcgis.com/arcgis/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",
            {
              attribution:
                "Esri, DigitalGlobe, GeoEye, Earthstar Geographics, and the GIS User Community",
            }
          );

        var route = L.layerGroup();

        var layers = [caltopo, main, route];

        var overlays = {};

        var overlays = Object.assign({
          "GPX Route": route
        }, overlays );

        /* Azimuth Markers */
        if (obj.azimuth == "y") {
          var azimuth = L.layerGroup();
          L.marker([obj.azimuthCoordLat, obj.azimuthCoordLong], {
            icon: statusToIcon(obj.azimuthStatus),
          })
            .addTo(azimuth)
            .bindPopup(obj.azimuthName)
            .openPopup();
          layers.push(azimuth);
          overlays = Object.assign({"Azimuth": azimuth}, overlays);
        }

        /* Reference mark icons */  
        if (obj.reference == "y") {
          var reference = L.layerGroup();

          L.marker([obj.referenceCoordLat1, obj.referenceCoordLong1], {
            icon: statusToIcon(obj.referenceStatus1),
          })
            .addTo(reference)
            .bindPopup(obj.referenceName1)
            .openPopup();
          if (obj.referenceCoordLat2 == "n") {
          } else {
            L.marker([obj.referenceCoordLat2, obj.referenceCoordLong2], {
              icon: statusToIcon(obj.referenceStatus2),
            })
              .addTo(reference)
              .bindPopup(obj.referenceName2)
              .openPopup();
          }
          if (obj.referenceCoordLat3 == "n") {
          } else {
            L.marker([obj.referenceCoordLat3, obj.referenceCoordLong3], {
              icon: statusToIcon(obj.referenceStatus3),
            })
              .addTo(reference)
              .bindPopup(obj.referenceName3)
              .openPopup();
          }
          if (obj.referenceCoordLat4 == "n") {
          } else {
            L.marker([obj.referenceCoordLat4, obj.referenceCoordLong4], {
              icon: statusToIcon(obj.referenceStatus4),
            })
              .addTo(reference)
              .bindPopup(obj.referenceName4)
              .openPopup();
          }
          if (obj.referenceCoordLat5 == "n") {
          } else {
            L.marker([obj.referenceCoordLat5, obj.referenceCoordLong5], {
              icon: statusToIcon(obj.referenceStatus5),
            })
              .addTo(reference)
              .bindPopup(obj.referenceName5)
              .openPopup();
          }
          layers.push(reference);
          overlays = Object.assign({"Reference Marks": reference}, overlays);
        }

        var overlays = Object.assign({
          "Benchmark": main,
        }, overlays );

        if (obj.gpx == "n") {
          } else {
          var gpx = "https://bubbajuice.github.io/benchmarks/gpx/" + obj.gpxFile;
          new L.GPX(gpx, {
            async: true,
            marker_options: {
              startIconUrl: "../images/empty.png",
              endIconUrl: "../images/empty.png",
              shadowUrl: "../images/empty.png",
              iconSize: [1, 1],
            },
          })
            .on("loaded", function (e) {})
            .addTo(route);
        }

        var baseMaps = {
          "Scanned USGS Topo Maps": caltopo,
          OpenStreetMap: osm,
          NAIP: naip,
          "USGS Imagery": usgsImagery,
          "Ersi World Imagery": ersi,
          "Ersi Clarity": ersiClarity,
        };

        var map = L.map("map", {
          center: [obj.mapCenterLat, obj.mapCenterLong],
          zoom: obj.mapZoom,
          layers: layers,
        });
        L.control.layers(baseMaps, overlays).addTo(map);
      };
      $.getJSON(
        "https://raw.githubusercontent.com/BubbaJuice/bubbajuice.github.io/main/benchmarks/json/H77.json",
        loadJson
      );
    </script>
  </body>
</html>
