<html>
  <head>
    <title>e</title>
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="../images/apple-touch-icon.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="../images/favicon-32x32.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="../images/favicon-16x16.png"
    />
    <link rel="manifest" href="/site.webmanifest" />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css?family=Open%20Sans"
    />
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
      integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="
      crossorigin=""
    />
    <style>
      body {
        font-family: "Open Sans";
        background-color: #36393f;
        color: #ffffff;
      }

      .link {
        color: #2f8aee;
      }

      .redLink {
        color: #ff0000;
      }

      .image {
        border-color: mediumpurple;
        border-style: solid;
        border-radius: 12px;
        margin: 10px;
        box-shadow: -7px 10px rgba(172, 177, 185, 0.24);
        float: left;
      }

      #map {
        height: 400px;
        width: 600px;
      }

      .whiteBorder {
        border: 1px solid #ffffff;
      }

      .table {
        height: 400px;
        width: 600px;
        top: 415px;
      }

      .right {
        float: right;
      }

      .descr {
        width: 50%;
      }

      div.gallery {
        margin: 5px;
        border: 1px solid #ccc;
        float: left;
        width: 180px;
      }

      div.gallery:hover {
        border: 1px solid #777;
      }

      div.gallery img {
        width: 100%;
        height: auto;
      }

      div.desc {
        padding: 15px;
        text-align: center;
      }
    </style>
  </head>
  <body>
    <script
      src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
      integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
      crossorigin=""
    ></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-gpx/1.7.0/gpx.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <!-- Title -->
    <center>
      <h1><strong>COMSTOCK</strong></h1>
      <p>
        <a href="/benchmarks" class="link"
          >Benchmarks</a>
        <a href="/apps" class="link">Apps</a>
        <a href="/" class="link">Home</a>
        <a href="/gcstats" class="link"
          >Geocaching Stats</a>
      </p>
    </center>
    <hr />
    <!-- Make markers -->
    <div style="margin-left: 10%">
      <div class="right" style="margin-right: 10%">
        <div id="map"></div>
        <div class="table">
          <table style="float: right; margin-top: 10px">
            <tr>
              <td style="text-align: center">
                <img
                  src="https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-green.png"
                  width="25"
                  height="41"
                />
              </td>
              <td>Main benchmarks recovered in good or poor condition.</td>
            </tr>
            <tr>
              <td style="text-align: center">
                <img
                  src="https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png"
                  width="25"
                  height="41"
                />
              </td>
              <td>Main benchmarks that have been destroyed.</td>
            </tr>
            <tr>
              <td style="text-align: center">
                <img
                  src="https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-violet.png"
                  width="25"
                  height="41"
                />
              </td>
              <td>Reference benchmarks recovered in good or poor condition.</td>
            </tr>
            <tr>
              <td style="text-align: center">
                <img
                  src="https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-yellow.png"
                  width="25"
                  height="41"
                />
              </td>
              <td>Reference benchmarks that have been destroyed.</td>
            </tr>
            <tr>
              <td style="text-align: center">
                <img
                  src="https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-blue.png"
                  width="25"
                  height="41"
                />
              </td>
              <td>Azimuth benchmarks recovered in good or poor condition.</td>
            </tr>
            <tr>
              <td style="text-align: center">
                <img
                  src="https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-orange.png"
                  width="25"
                  height="41"
                />
              </td>
              <td>Azimuth benchmarks that have been destroyed.</td>
            </tr>
            <tr>
              <td style="text-align: center">
                <img
                  src="https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-black.png"
                  width="25"
                  height="41"
                />
              </td>
              <td>A main, reference, or azimuth benchmark not searched for.</td>
            </tr>
          </table>
        </div>
      </div>
      <!-- Start of description -->
      <h2>"COMSTOCK"</h2>
      <table>
        <tr>
          <td><strong>NGS PointID: </strong></td>
          <td>CG0960</td>
        </tr>
        <tr>
          <td><strong>Reference Benchmarks: </strong></td>
          <td>
            <a
              href="/benchmarks/comstock_1"
              class="link"
              >COMSTOCK NO 1</a
            >,
            <a
              href="/benchmarks/comstock_2"
              class="redLink"
              >COMSTOCK NO 2</a
            >
          </td>
          <tr>
            <td><strong>Azimuth Benchmark: </strong></td>
            <td>
              <a href="/benchmarks/comstock_reset" class="link"
                >COMSTOCK RESET</a
              >
            </td>
          </tr>
        </tr>
        <tr>
          <td><strong>Condition: </strong></td>
          <td>Large scratches present.</td>
        </tr>
        <tr>
          <td><strong>Stamping: </strong></td>
          <td>COMSTOCK ASA 762 1962</td>
        </tr>
        <tr>
          <td><strong>Coordinates: </strong></td>
          <td>31.719633, -110.074021</td>
        </tr>
        <!-- Source: Datasheet -->
        <tr>
          <td><strong>Elevation: </strong></td>
          <td>4595.34 ft (1400.66 m)</td>
        </tr>
        <!-- Source: Datasheet -->
        <tr>
          <td><strong>Setting: </strong></td>
          <td>Rock outcrop</td>
        </tr>
        <tr>
          <td><strong>Monumentor: </strong></td>
          <td>USC&GS</td>
        </tr>
      </table>
      <p><strong>Datasheet Description:</strong></p>
      <div class="descr">
        <p>
          Station is located on a low prominent hill, on the NW edge of
          Tombstone, and just W across U.S. Highway 80 and railroad
          tracks from boothill graveyard. The hill is shown on U.S.
          Geological Survey charts as comstock hill.
        </p><p>
          To reach station from post office in tombstone, go n on u.s.
          Highway 80 for 0.4 mile to the boothill motel and west side store
          and turn left on the first track road after passing the store
          (about 50 yards and immediately at the end of the curve in the
          highway). (The azimuth mark is located 0.05 mile beyond this
          point on highway.) After turning left on dirt road, go 0.1 mile
          to fork. Take left fork across railroad tracks and then keep
          second fork from right and go 0.15 mile to wire gate after
          passing to the right of tin shacks. Pass through, turn right
          and follow dim tracks for 0.15 mile to top of hill and
          station site.
        </p><p>
          The station mark is a bronze station disk, stamped COMSTOCK
          1946, and set flush in outcropping bedrock that is flush with
          the surrounding ground. It is located 14.8 feet N of an old
          lamppost and 6.1 feet NE of the NE arc of a circular curb.
        </p><p>
          Reference mark 1 is a bronze reference disk, stamped COMSTOCK
          1946 NO 1, and is set flush in outcropping bedrock. It projects
          about 3 inches above the ground and is about 12 inches lower
          than station.
        </p><p>
          Reference mark 2 is a bronze reference disk, stamped COMSTOCK
          1946 NO 2, and is set in outcropping bedrock that projects
          about 14 inches on the high side and 2 inches on the lower side.
          It is about 12 inches higher than station.
        </p><p>
          The azimuth mark is a bronze azimuth disk, stamped COMSTOCK
          1946, and is set in a 7-foot concrete culvert 2.2 feet from
          the N end. It is located at the junction of U.S. Highway 80
          and Safford Street, on the W side of the highway, and is about
          1/2 mile SE of station by airline.
        </p><p>
          Height of light above station mark - 1.3 meters.
        </p>
      </div>
      <div class="descr">
        <hr style="margin-top: 30px; margin-bottom: 30px" />
        <p>
          "COMSTOCK" is a benchmark monumented by the USC&GS in 1946 located in Cochise
          County, Arizona. It has 2 dedicated reference marks and a dedicated azimuth mark.
        </p>
        <p>
          The best way to get to "COMSTOCK" is to walk up the hiking path from Safford Street which 
          leads to the top of the hill. The benchmark is in a clearing on the northeast side of the old basin.
        </p>
        <p>
          "COMSTOCK NO 1" is located 19.360 feet or 5.901 meters 118 degrees from
          the main benchmark. It is located below the station in the same clearing.
        </p>
        <p>
          "COMSTOCK NO 2" is theoretically located 44.744 feet or 13.638 meters 252 degrees from
          the main benchmark. It is theoretically located 1 foot above the station. It would be located 
          near the nearby USGS benchmark.
        </p>
        <p>
          The reset azimuth mark is located on the curb at AZ 80 and Safford Street. The original azimuth mark 
          is under the highway fill after the highway was expanded.
        </p>
      </div>
      <!-- Gallery -->
      <div class="gallery">
        <a target="_blank" href="images/COMSTOCK.png">
          <img
            src="images/COMSTOCK.png"
            alt="COMSTOCK benchmark"
            width="600"
            height="400"
          />
        </a>
        <div class="desc">A closeup of COMSTOCK.</div>
      </div>

      <div class="gallery">
        <a target="_blank" href="images/COMSTOCK1.png">
          <img
            src="images/COMSTOCK1.png"
            alt="COMSTOCK NO 1 benchmark"
            width="600"
            height="400"
          />
        </a>
        <div class="desc">A closeup of COMSTOCK NO 1.</div>
      </div>

      <div class="gallery">
        <a target="_blank" href="images/COMSTOCK_RESET.png">
          <img
            src="images/COMSTOCK_RESET.png"
            alt="COMSTOCK RESET benchmark"
            width="600"
            height="400"
          />
        </a>
        <div class="desc">COMSTOCK RESET azimuth.</div>
      </div>

      <div class="gallery">
        <a target="_blank" href="images/COMSTOCK_RESETback.png">
          <img
            src="images/COMSTOCK_RESETback.png"
            alt="COMSTOCK RESET benchmark"
            width="600"
            height="400"
          />
        </a>
        <div class="desc">COMSTOCK RESET azimuth from further back.</div>
      </div>

      <div class="gallery">
        <a target="_blank" href="images/TOMBSTONE.png">
          <img
            src="images/TOMBSTONE.png"
            alt="USGS benchmark"
            width="600"
            height="400"
          />
        </a>
        <div class="desc">The USGS benchmark.</div>
      </div>
    </div>
    <script>
      var loadJson = function (obj) {
        /* Add icons for marker status. */
        var mainGood = new L.Icon({
          iconUrl:
            "https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-green.png",
          shadowUrl:
            "https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",
          iconSize: [25, 41],
          iconAnchor: [12, 41],
          popupAnchor: [1, -34],
          shadowSize: [41, 41],
        });

        var refGood = new L.Icon({
          iconUrl:
            "https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-violet.png",
          shadowUrl:
            "https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",
          iconSize: [25, 41],
          iconAnchor: [12, 41],
          popupAnchor: [1, -34],
          shadowSize: [41, 41],
        });

        var azimuthGood = new L.Icon({
          iconUrl:
            "https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-blue.png",
          shadowUrl:
            "https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",
          iconSize: [25, 41],
          iconAnchor: [12, 41],
          popupAnchor: [1, -34],
          shadowSize: [41, 41],
        });

        var mainBad = new L.Icon({
          iconUrl:
            "https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png",
          shadowUrl:
            "https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",
          iconSize: [25, 41],
          iconAnchor: [12, 41],
          popupAnchor: [1, -34],
          shadowSize: [41, 41],
        });

        var refBad = new L.Icon({
          iconUrl:
            "https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-yellow.png",
          shadowUrl:
            "https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",
          iconSize: [25, 41],
          iconAnchor: [12, 41],
          popupAnchor: [1, -34],
          shadowSize: [41, 41],
        });

        var azimuthBad = new L.Icon({
          iconUrl:
            "https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-orange.png",
          shadowUrl:
            "https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",
          iconSize: [25, 41],
          iconAnchor: [12, 41],
          popupAnchor: [1, -34],
          shadowSize: [41, 41],
        });

        var none = new L.Icon({
          iconUrl:
            "https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-black.png",
          shadowUrl:
            "https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",
          iconSize: [25, 41],
          iconAnchor: [12, 41],
          popupAnchor: [1, -34],
          shadowSize: [41, 41],
        });

        /* Convert status in JSON to variable for interpretation below */
        var main = L.layerGroup();
        function statusToIcon(status) {
          if (status == "mainGood") {
            return mainGood;
          }
          if (status == "mainBad") {
            return mainBad;
          }
          if (status == "refGood") {
            return refGood;
          }
          if (status == "refBad") {
            return refBad;
          }
          if (status == "azimuthGood") {
            return azimuthGood;
          }
          if (status == "azimuthBad") {
            return azimuthBad;
          }
          if (status == "none") {
            return none;
          }
          console.log("Couldn't find a status!")
        }

        /* Main marker icon */
        L.marker([obj.mainCoordLat, obj.mainCoordLong], {
          icon: statusToIcon(obj.mainStatus),
        })
          .addTo(main)
          .bindPopup(obj.mainName)
          .openPopup();

        /* Base Layers */
        var caltopo = L.tileLayer(
            "https://caltopo.s3.amazonaws.com/topo/{z}/{x}/{y}.png",
            {
              attribution:
                '&copy; <a href="https://caltopo.com/map.html">Caltopo</a>',
              maxNativeZoom: 16,
            }
          ),

          osm = L.tileLayer(
            "https://tile.openstreetmap.org/{z}/{x}/{y}.png", 
            {
              attribution: 
                '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',
            }
          ),

          naip = L.tileLayer(
            "https://naip.maptiles.arcgis.com/arcgis/rest/services/NAIP/MapServer/tile/{z}/{y}/{x}",
            {
              attribution: 
                "USDA-NAIP",
            }
          );

          usgsImagery = L.tileLayer(
            "https://basemap.nationalmap.gov/arcgis/rest/services/USGSImageryOnly/MapServer/tile/{z}/{y}/{x}",
            { 
              attribution: 
                "USDA-NAIP", 
              maxNativeZoom: 16 
            }
          );

          ersi = L.tileLayer(
            "https://services.arcgisonline.com/arcgis/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",
            {
              attribution:
                "Esri, Maxar, Earthstar Geographics, USDA FSA, USGS, Aerogrid, IGN, IGP, and the GIS User Community",
            }
          );

          ersiClarity = L.tileLayer(
            "https://clarity.maptiles.arcgis.com/arcgis/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",
            {
              attribution:
                "Esri, DigitalGlobe, GeoEye, Earthstar Geographics, and the GIS User Community",
            }
          );

        var route = L.layerGroup();

        var layers = [caltopo, main, route];

        var overlays = {};

        var overlays = Object.assign({
          "GPX Route": route
        }, overlays );

        /* Azimuth Markers */
        if (obj.azimuth == "y") {
          var azimuth = L.layerGroup();
          L.marker([obj.azimuthCoordLat, obj.azimuthCoordLong], {
            icon: statusToIcon(obj.azimuthStatus),
          })
            .addTo(azimuth)
            .bindPopup(obj.azimuthName)
            .openPopup();
          layers.push(azimuth);
          overlays = Object.assign({"Azimuth": azimuth}, overlays);
        }

        /* Reference mark icons */  
        if (obj.reference == "y") {
          var reference = L.layerGroup();

          L.marker([obj.referenceCoordLat1, obj.referenceCoordLong1], {
            icon: statusToIcon(obj.referenceStatus1),
          })
            .addTo(reference)
            .bindPopup(obj.referenceName1)
            .openPopup();
          if (obj.referenceCoordLat2 == "n") {
          } else {
            L.marker([obj.referenceCoordLat2, obj.referenceCoordLong2], {
              icon: statusToIcon(obj.referenceStatus2),
            })
              .addTo(reference)
              .bindPopup(obj.referenceName2)
              .openPopup();
          }
          if (obj.referenceCoordLat3 == "n") {
          } else {
            L.marker([obj.referenceCoordLat3, obj.referenceCoordLong3], {
              icon: statusToIcon(obj.referenceStatus3),
            })
              .addTo(reference)
              .bindPopup(obj.referenceName3)
              .openPopup();
          }
          if (obj.referenceCoordLat4 == "n") {
          } else {
            L.marker([obj.referenceCoordLat4, obj.referenceCoordLong4], {
              icon: statusToIcon(obj.referenceStatus4),
            })
              .addTo(reference)
              .bindPopup(obj.referenceName4)
              .openPopup();
          }
          if (obj.referenceCoordLat5 == "n") {
          } else {
            L.marker([obj.referenceCoordLat5, obj.referenceCoordLong5], {
              icon: statusToIcon(obj.referenceStatus5),
            })
              .addTo(reference)
              .bindPopup(obj.referenceName5)
              .openPopup();
          }
          layers.push(reference);
          overlays = Object.assign({"Reference Marks": reference}, overlays);
        }

        var overlays = Object.assign({
          "Benchmark": main,
        }, overlays );

        if (obj.gpx == "n") {
          } else {
          var gpx = "/benchmarks/gpx/" + obj.gpxFile;
          new L.GPX(gpx, {
            async: true,
            marker_options: {
              startIconUrl: "../images/empty.png",
              endIconUrl: "../images/empty.png",
              shadowUrl: "../images/empty.png",
              iconSize: [1, 1],
            },
          })
            .on("loaded", function (e) {})
            .addTo(route);
        }

        var baseMaps = {
          "Scanned USGS Topo Maps": caltopo,
          OpenStreetMap: osm,
          NAIP: naip,
          "USGS Imagery": usgsImagery,
          "Ersi World Imagery": ersi,
          "Ersi Clarity": ersiClarity,
        };

        var map = L.map("map", {
          center: [obj.mapCenterLat, obj.mapCenterLong],
          zoom: obj.mapZoom,
          layers: layers,
        });
        L.control.layers(baseMaps, overlays).addTo(map);
      };
      $.getJSON(
        "./json/comstock.json",
        loadJson
      );
    </script>
    <div class="toggle-container">
      <label for="toggle-background">Enable Glitter Background</label>
      <input type="checkbox" id="toggle-background" onclick="toggleBackground()">
    </div>
    <script src="/files/glitter.js"></script>
  </body>
</html>
